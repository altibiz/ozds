@page "/"
@using Ozds.Business.Time
@using Ozds.Client.Components.Charts
@attribute [Navigation(Icon= Icons.Material.Outlined.Home, Title = "Home", Allows = new[] { RoleModel.LocationRepresentative, RoleModel.NetworkUserRepresentative, RoleModel.OperatorRepresentative })]
@attribute [Authorize]

@inject IDialogService DialogService

@if (user is null || RepresentativeState is null)
{
  return;
}
@if (RepresentativeState.Representative.Role is RoleModel.NetworkUserRepresentative)
{
  <NetUserRepDashboard/>
  <MetersTable/>
}
@if (RepresentativeState.Representative.Role is RoleModel.LocationRepresentative)
{
  <LocationRepDashboard/>
  <LocationsTable/>
}
@if (RepresentativeState.Representative.Role is RoleModel.OperatorRepresentative)
{
  <OperatorRepDashboard/>
  <LocationsTable/>
  <InvoicesTable/>
}

@code {

  [CascadingParameter]
  public UserState user { get; set; } = default!;

  [CascadingParameter]
  public RepresentativeState RepresentativeState { get; set; } = default!;

}
