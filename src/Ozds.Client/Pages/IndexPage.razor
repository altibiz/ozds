@using Ozds.Business.Time
@using Ozds.Client.Components.Charts
@using Ozds.Client.Components.Dashboards
@using Ozds.Client.Components.Tables

@namespace Ozds.Client.Pages

@page "/"

@attribute [Navigation(
  Icon= Icons.Material.Outlined.Home,
  Title = "Home",
  Allows = new[]
  {
    RoleModel.LocationRepresentative,
    RoleModel.NetworkUserRepresentative,
    RoleModel.OperatorRepresentative
  })]

@inject IDialogService DialogService

@if (RepresentativeState.Representative.Role
  is RoleModel.NetworkUserRepresentative)
{
  <NetUserRepDashboard/>
  <MetersTable/>
}
@if (RepresentativeState.Representative.Role
  is RoleModel.LocationRepresentative)
{
  <LocationRepDashboard/>
  <LocationsTable/>
}
@if (RepresentativeState.Representative.Role
  is RoleModel.OperatorRepresentative)
{
  <OperatorRepDashboard/>
  <LocationsTable/>
  <InvoicesTable/>
}

@code {
  [CascadingParameter]
  public RepresentativeState RepresentativeState { get; set; } = default!;
}
