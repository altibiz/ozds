@page "/representative/{id}"
@attribute [Navigation(RouteValue = "id", Parents = new[] { typeof(RepresentativesPage) })]
@attribute [Authorize]
@attribute [StreamRendering]
@using Microsoft.Extensions.DependencyInjection
@using Ozds.Data.Models
@using Ozds.Data
@inherits OwningComponentBase

<Loading
  State="@(new LoadingState<RepresentingUserModel>())"
  Load="@(async () => (await ScopedServices
    .GetRequiredService<OzdsDbClient>()
    .ReadRepresentingUserByUserId(Id))!)">
  <Found>
    @context
  </Found>
</Loading>

@code {
  [Parameter] public string Id { get; set; } = default!;
}
