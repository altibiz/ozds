@page "/mock"
@using Ozds.Business.Queries.Abstractions
@using Ozds.Business.Time
@using Ozds.Client.Components.Charts
@inherits OzdsOwningComponentBase

  @*  !!! TODO:
      Phase Dounut display
      Enable Energy display with kWh
      Add zoom and preview for connective power annotation
      UPDATING NOT WORKING
      Translate
   *@

<Loading T="PaginatedList<MeterModel>" LoadAsync="@(() => ScopedServices.GetRequiredService<OzdsNetworkUserMeasurementLocationModelQueries>().GetMeters(""))">
  <Found Context="paganatedMeters">
  @{
    List<IMeter> meters = new List<IMeter>(paganatedMeters.Items);
  }
  <MudText Typo="Typo.h2" Style="text-align: center;"> Brush graf </MudText>
  <MudContainer MaxWidth="MaxWidth.Large" Class="my-3">
    <BrushGraph Source="abb-B2x-1624226"/>
  </MudContainer>

  <MudText Typo="Typo.h2" Style="text-align: center;"> Statićan prikaz po brojilu </MudText>
  <MudContainer MaxWidth="MaxWidth.Large" Class="my-3">
    <MudGrid>
      <MudItem xs="6">
        <MudPaper Class="pa-3">
          <NewMeterGraph
            Meters="@meters.Where(x => x.Id.StartsWith("abb-B2x-1624226")).ToList()"
            Resolution="@ResolutionModel.Month"
            Measure="@MeasureModel.ActivePower"
            Multiplier="1"
            ShortDate
            Static/>
        </MudPaper>
      </MudItem>
      <MudItem xs="6">
          <MudPaper Class="pa-3">
            <NewMeterGraph
              Meters="@meters.Where(x => x.Id.StartsWith("schneider")).ToList()"
              Resolution="@ResolutionModel.Month"
              Measure="@MeasureModel.ActivePower"
              Multiplier="1"
              ShortDate
              Static/>
          </MudPaper>
      </MudItem>
    </MudGrid>
  </MudContainer>

  <MudText Typo="Typo.h2" Style="text-align: center;"> Dinamićan prikaz po brojilu !NOVO! </MudText>
  <MudContainer MaxWidth="MaxWidth.Medium" Class="my-3">
    <MudPaper Class="pa-3 ma-3">
      <NewMeterGraph
        Meters="@meters"
        Resolution="@ResolutionModel.Day"
        Measure="@MeasureModel.ActivePower"
        Multiplier="1"
        LongDate
        />
    </MudPaper>
  </MudContainer>

  <MudText Typo="Typo.h2" Style="text-align: center;"> Dinamićan prikaz zbrojeva potrošnje !NOVO!  </MudText>
  <MudContainer MaxWidth="MaxWidth.Medium" Class="my-3">
    <MudPaper Class="pa-3 ma-3">
      <NewMeterGraph
        Meters="@meters"
        DisplayType="@SeriesType.Area"
        Resolution="@ResolutionModel.Day"
        Measure="@MeasureModel.ActiveEnergy"
        Multiplier="3"
        ShortDate
        PhasesSum
        />
    </MudPaper>
  </MudContainer>

  <MudText Typo="Typo.h2" Style="text-align: center;"> Novi prikazi potrošnje !NOVO!  </MudText>
  <MudContainer MaxWidth="MaxWidth.Medium" Class="my-3">
    <MudPaper Class="pa-3 ma-3">
      <NewMeterGraph
        Meters="@meters"
        Resolution="@ResolutionModel.Day"
        Measure="@MeasureModel.ActiveEnergy"
        Multiplier="3"
        LongDate
        SumBars
        PhasesSum
        />
    </MudPaper>
  </MudContainer>

  <MudText Typo="Typo.h2" Style="text-align: center;"> Novi prikazi potrošnje !NOVO!  </MudText>

  <MudContainer MaxWidth="MaxWidth.Medium">
    <MudPaper Class="my-3">
      <NewMeterGraph
        Meters="@meters"
        Resolution="@ResolutionModel.Month"
        Measure="@MeasureModel.ActivePower"
        Multiplier="1"
        LongDate
        DonutSum
        Static
        />
    </MudPaper>
  </MudContainer>

  @* <MudText Typo="Typo.h2"> Veliki broj grafova istovremeno !NOVO!  </MudText>
  <MudContainer MaxWidth="MaxWidth.Large" Class="my-3">
    <MudGrid>
      <MudItem xs="4">
        <MudPaper Class="pa-3">
          <NewMeterGraph
            Meters="@meters.Where(x => x.Id.StartsWith("schneider")).ToList()"
            Resolution="@ResolutionModel.Month"
            Measure="@MeasureModel.ActivePower"
            Multiplier="1"
            LongDate
            DonutSumPhases
            Static
            />
        </MudPaper>
      </MudItem>
      <MudItem xs="4">
        <MudPaper Class="pa-3">
          <NewMeterGraph
            Meters="@meters.Where(x => x.Id.StartsWith("abb-B2x-1624226")).ToList()"
            Resolution="@ResolutionModel.Month"
            Measure="@MeasureModel.ActivePower"
            Multiplier="1"
            LongDate
            DonutSumPhases
            Static
            />
        </MudPaper>
      </MudItem>
      <MudItem xs="4">
          <MudPaper Class="pa-3">
            <NewMeterGraph
              Meters="@meters.Where(x => x.Id.StartsWith("schneider")).ToList()"
              Resolution="@ResolutionModel.Month"
              Measure="@MeasureModel.ActivePower"
              Multiplier="1"
              LongDate
              DonutSumPhases
              Static
              />
          </MudPaper>
      </MudItem>
      <MudItem xs="4">
          <MudPaper Class="pa-3">
            <NewMeterGraph
              Meters="@meters.Where(x => x.Id.StartsWith("abb-B2x-1624226")).ToList()"
              Resolution="@ResolutionModel.Month"
              Measure="@MeasureModel.ActivePower"
              Multiplier="1"
              LongDate
              DonutSumPhases
              Static
              />
          </MudPaper>
      </MudItem>
    </MudGrid>
  </MudContainer> *@

  </Found>
</Loading>

