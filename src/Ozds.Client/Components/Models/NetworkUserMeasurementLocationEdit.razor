@using Microsoft.AspNetCore.Components
@using MudBlazor
@using Ozds.Business.Models
@using Ozds.Business.Models.Base
@using Ozds.Client.Components.Base
@using Ozds.Client.Components.Fields
@using Ozds.Client.Components.Streaming

@namespace Ozds.Client.Components.Models

@inherits OzdsComponentBase

<MudTextField
  Label="@Translate("Name")"
  @bind-Value="Model.Title"
  For="@(() => Model.Title)"/>

<MudSelect
  Label="@Translate("Network users")"
  AnchorOrigin="Origin.BottomCenter"
  @bind-Value="Model.NetworkUserId"
  For="@(() => Model.NetworkUserId)">
  <Paging T="NetworkUserModel">
    <Summary Context="model">
      <MudSelectItem Value="model.Id">
        <NetworkUserSummary Model="model"/>
      </MudSelectItem>
    </Summary>
  </Paging>
</MudSelect>

<MudSelect
  Label="@Translate("Device")"
  AnchorOrigin="Origin.BottomCenter"
  @bind-Value="Model.MeterId"
  For="@(() => Model.MeterId)">
  <Paging T="MeterModel">
    <Summary>
      <MudSelectItem Value="context.Id">
        <MeterSummary Model="context"/>
      </MudSelectItem>
    </Summary>
  </Paging>
</MudSelect>

<MudSelect
  Label="@Translate("Catalogue")"
  AnchorOrigin="Origin.BottomCenter"
  @bind-Value="Model.NetworkUserCatalogueId"
  For="@(() => Model.NetworkUserCatalogueId)">
  <Paging T="NetworkUserCatalogueModel">
    <Summary>
      <MudSelectItem Value="context.Id">
        <NetworkUserCatalogueSummary Model="context"/>
      </MudSelectItem>
    </Summary>
  </Paging>
</MudSelect>

@code {
  [Parameter]
  public NetworkUserMeasurementLocationModel Model { get; set; } = default!;
}
