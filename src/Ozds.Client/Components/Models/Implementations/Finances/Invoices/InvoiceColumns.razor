@using MudBlazor
@using Ozds.Business.Models
@using Ozds.Business.Models.Enums
@using Ozds.Client.Components.Models.Base
@using Ozds.Client.Components.Fields
@using Ozds.Client.State
@using Ozds.Client.Pages

@namespace Ozds.Client.Components.Models

@typeparam TPrefix
@typeparam TModel where TModel : NetworkUserInvoiceModel
@inherits OzdsColumnsComponentBase<TPrefix, TModel>

<TemplateColumn
  T="TPrefix"
  Title="@Translate("Network user")"
  Sortable="false">
  <CellTemplate>
    <MudStack Row>
      <IdentifiableLink
        T="NetworkUserModel"
        TPage="NetworkUserPage"
        Model="Fix(context.Item)?.ArchivedNetworkUser" />
    </MudStack>
  </CellTemplate>
</TemplateColumn>

<PropertyColumn
  T="TPrefix"
  TProperty="decimal"
  Property="x => Fix(x)!.TotalWithTax_EUR"
  Title='@Translate("Total")'>
  <CellTemplate>
    @NumericString(Fix(context.Item)?.TotalWithTax_EUR)
    &nbsp;
    EUR
  </CellTemplate>
</PropertyColumn>

<PropertyColumn
  T="TPrefix"
  TProperty="string"
  Property="x => DateString(Fix(x)!.FromDate)"
  Title='@Translate("From")'/>

<PropertyColumn
  T="TPrefix"
  TProperty="string"
  Property="x => DateString(Fix(x)!.ToDate)"
  Title='@Translate("To")'/>

<PropertyColumn
  T="TPrefix"
  TProperty="string"
  Property="x => Fix(x)!.Id"
  Sortable="false"
  Title='@Translate("Invoice number")'/>
