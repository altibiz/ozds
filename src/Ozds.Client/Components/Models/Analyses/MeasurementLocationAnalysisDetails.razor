@using Microsoft.AspNetCore.Components
@using MudBlazor
@using Ozds.Business.Analysis
@using Ozds.Client.Components.Base

@namespace Ozds.Client.Components.Models

@inherits OzdsComponentBase

<MudText>
  @Translate("Location")
  &colon;
  &nbsp;
  @analysis.Location.Title
</MudText>

@if (analysis.NetworkUser is { } networkUser)
{
  <MudText>
    @Translate("Network user")
    &colon;
    &nbsp;
    @networkUser.Title
  </MudText>
}

<MudText
  Class="d-flex align-center justify-start"
  Style="font-size: large; font-weight: bold;">
  @Translate("Current months consumption")
  &colon;
  &nbsp;
  @NumericString(
    analysis.Analysis.ThisMonthConsumption.ActiveEnergy_kWh,
    0)
  &nbsp;
  kWh
</MudText>

<MudText
  Class="d-flex align-center justify-start"
  Style="font-size: large; font-weight: bold;">
  @Translate("Last months consumption")
  &colon;
  &nbsp;
  @NumericString(
    analysis.Analysis.LastMonthConsumption.ActiveEnergy_kWh,
    0)
  &nbsp;
  kWh
</MudText>

<MudText
  Class="d-flex align-center justify-start"
  Style="font-size: large; font-weight: bold;">
  @Translate("Last months invoice total")
  &colon;
  &nbsp;
  @(analysis.Analysis.LastMonthExpenses.Total_EUR == 0
    ? Translate("Invoice pending...")
    : NumericString(
        analysis.Analysis.LastMonthExpenses.Total_EUR) + " EUR")
</MudText>

@code {
  [Parameter]
  public MeasurementLocationAnalysis Model { get; set; } = default!;
}
