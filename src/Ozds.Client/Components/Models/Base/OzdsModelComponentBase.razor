@using Ozds.Client.Components.Base
@using Ozds.Client.Components.Models.Abstractions
@using Ozds.Client.Components.Streaming

@namespace Ozds.Client.Components.Models.Base

@typeparam TModel
@inherits OzdsComponentBase
@implements IModelComponentProvider

@Base()

@code {
  public RenderFragment Base()
  {
    if (!IsTopLevel)
    {
      return @<Fragment />;
    }

    return @<DynamicComponent
      Type="@(BaseComponentType())"
      Parameters="@(BaseParameters())" />;
  }

  public RenderFragment Base<T>()
  {
    return Base(typeof(T));
  }

  public RenderFragment Base(Type baseModelType)
  {
    if (!IsTopLevel)
    {
      return @<Fragment />;
    }

    return @<DynamicComponent
      Type="@(BaseComponentType(baseModelType))"
      Parameters="@(BaseParameters())" />;
  }
}
